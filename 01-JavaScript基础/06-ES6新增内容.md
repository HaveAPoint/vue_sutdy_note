# ES6+ 新增内容全套

## 变量与常量

### `let` 和 `const`
- **块级作用域**：避免全局污染
- **不提升**：暂时性死区 (TDZ)
- **不允许重复声明**
- `const` 声明常量，但对象属性可变

```javascript
let a = 1
const b = { val: 2 }
b.val = 3 // 合法
// b = {} // 报错
```

## 解构赋值

### 数组与对象解构

```javascript
// 数组
const [x, y, ...z] = [1, 2, 3, 4]
// x=1, y=2, z=[3,4]

// 对象
const { name, age: userAge = 18 } = { name: 'Tom' }
// name='Tom', userAge=18 (默认值)
```

## 函数增强

### 箭头函数 `=>`
- 没有自己的 `this`
- 没有 `arguments`
- 简洁语法

### 默认参数
```javascript
function greet(name = 'Guest') {}
```

### 剩余参数
```javascript
function sum(...nums) {
  return nums.reduce((a, b) => a + b)
}
```

## 字符串与正则

### 模板字符串
```javascript
const msg = `Hello ${name}, 
Multilines supported!`
```

### 常用方法
- `includes()`, `startsWith()`, `endsWith()`
- `padEnd()`, `padStart()`

## 数组与对象扩展

### 数组
- `Array.from()`: 类数组转数组
- `includes()`: 替代 indexOf
- `find()`, `findIndex()`
- `flat()`, `flatMap()`

### 对象
- 属性简写: `{ x, y }`
- 方法简写: `{ method() {} }`
- `Object.assign()`: 合并（浅拷贝）
- `Object.keys()`, `values()`, `entries()`
- 扩展运算符: `const clone = { ...obj }`

## 异步编程

### Promise
- 解决回调地狱
- `all`, `race`, `allSettled`, `any`

### async/await (ES8)
- 同步写法的异步代码
- 基于 Promise

## 类与模块

### Class
```javascript
class Animal {
  constructor(name) { this.name = name }
  speak() { console.log(this.name) }
}
class Dog extends Animal {
  speak() { super.speak(); console.log('Bark') }
}
```

### Module
```javascript
// export
export const data = 1
export default function() {}

// import
import func, { data } from './module'
```

## 新数据结构

- `Map`: 任意键类型
- `Set`: 唯一值集合
- `WeakMap` / `WeakSet`: 弱引用
- `Symbol`: 唯一标识符

## 其他重要特性

### Proxy & Reflect (Vue3 核心)
拦截对象操作。

```javascript
/* 见 01-响应式系统.md */
```

### Optional Chaining (`?.`)
```javascript
const value = obj?.prop?.subProp
```

### Nullish Coalescing (`??`)
只有 `null` 或 `undefined` 时才取默认值。

```javascript
const count = 0
const num = count || 10  // 10 (0 被视为 false)
const real = count ?? 10 // 0
```

### BigInt
超大整数 `10n`。

## 总结列表

| 特性 | 关键词 |
|------|--------|
| 变量 | `let`, `const` |
| 函数 | `=>`, `...args`, `default` |
| 结构 | `destructuring`, `template string` |
| 面向对象 | `class`, `extends`, `module` |
| 异步 | `Promise`, `async/await` |
| 数据结构 | `Map`, `Set`, `Symbol` |
| 语法糖 | `?.`, `??`, `...spread` |
